dist: bionic

jobs:
  include:
    - language: java
      jdk: openjdk13
      before_install:
        - chmod +x gradlew
      script:
        - bash ./gradlew test jacocoJupTestReport

    - language: python
      python: 3.8
      script:
        - python --version
        - pip install --upgrade pip
        - pip install -r requirements.txt
        - coverage3 run scripts/run_unit_tests.py
        - python scripts/create_problems_list.py

branches:
  only:
    - master

#https://caveofcode.com/2017/05/publish-an-angular-app-to-github-pages/
deploy:
  provider: pages
  skip_cleanup: true
  github_token: $GITHUB_TOKEN
  keep_history: false
  commit_message: Travis CI Updates [ci skip]
  local_dir: website
  on:
    branch: master
  target_branch: gh-pages
