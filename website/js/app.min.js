var global_adapted_json_data=[],global_filtered_json_data=[],global_problem_id_string="Id",global_problem_name_string="Name",global_problem_link_string="Link",global_problem_origin_string="Origin",global_problem_companies_string="Companies",global_problem_categories_string="Categories",global_problem_tags_string="Tags",global_problem_languages_string="Languages",global_filter_query_origin_default="any origin",global_filter_query_companies_default="any origin",global_filter_query_categories_default="any origin",global_filter_query_tags_default="any origin",global_filter_query_languages_default="any origin",global_filter_query_and_or_default="AND",global_origin=[],global_companies=[],global_categories=[],global_tags=[],global_languages=[],global_filters_applied=!1,getJson=new Promise(function(resolve,reject){"use strict";fetch("problems_list.json",{mode:"no-cors"}).then(res=>res.json()).then(json_data=>resolve(json_data))});function createFooTable(columns,row_data){"use strict";return new Promise(function(resolve,reject){$(".table").footable({columns:columns,rows:row_data}),resolve("Success!")})}function updateRetrievedCount(count){"use strict";$("#retrieved_count").html("Retrieved Count: "+count)}function stringifyNestedJsonArrays(json_data){"use strict";var temp_json_data=JSON.parse(JSON.stringify(json_data));return new Promise(function(resolve,reject){temp_json_data.forEach(function(element){var temp;element.hasOwnProperty(global_problem_companies_string)&&""!==element[global_problem_companies_string]&&(temp=element.Companies.join(", "),element.Companies=temp),element.hasOwnProperty(global_problem_categories_string)&&""!==element[global_problem_categories_string]&&(temp=element.Categories.join(", "),element.Categories=temp),element.hasOwnProperty(global_problem_tags_string)&&""!==element[global_problem_tags_string]&&(temp=element.Tags.join(", "),element.Tags=temp),element.hasOwnProperty(global_problem_languages_string)&&""!==element[global_problem_languages_string]&&(temp=element.Languages.join(", "),element.Languages=temp)}),resolve(temp_json_data)})}function createTable(json_data){"use strict";return new Promise(function(resolve,reject){var columnJson=$.map(Object.getOwnPropertyNames(json_data[0]),function(column){return column===global_problem_id_string?{name:column,title:column,breakpoints:"xs",type:"number",style:{width:80,maxWidth:80}}:column===global_problem_name_string||column===global_problem_companies_string||column===global_problem_tags_string?{name:column,title:column}:{name:column,title:column,breakpoints:"xs"}}),count;count=1===json_data.length&&""===json_data[0].Name?0:json_data.length,stringifyNestedJsonArrays(json_data).then(nested_arrays_removed_json=>createFooTable(columnJson,nested_arrays_removed_json)).then(updateRetrievedCount(count)).then(resolve("Success!"))})}function adaptJsonData(json_data){"use strict";return new Promise(function(resolve,reject){Array.prototype.forEach.call(json_data,element=>{if(element.hasOwnProperty(global_problem_name_string)&&element.hasOwnProperty(global_problem_link_string)){var problem_name=element.Name,link="https://github.com/manastalukdar/learning-computer-science/tree/master/"+element.Link;element.Name='<a href="'+link+'" target="_blank">'+problem_name+"</a>",delete element.Link}if(element.hasOwnProperty(global_problem_origin_string)){var item=element.Origin;-1===global_origin.indexOf(item)&&global_origin.push(item)}var values;element.hasOwnProperty(global_problem_companies_string)&&(values=element.Companies).forEach(function(item){-1===global_companies.indexOf(item)&&global_companies.push(item)}),element.hasOwnProperty(global_problem_categories_string)&&(values=element.Categories).forEach(function(item){-1===global_categories.indexOf(item)&&global_categories.push(item)}),element.hasOwnProperty(global_problem_tags_string)&&(values=element.Tags).forEach(function(item){-1===global_tags.indexOf(item)&&global_tags.push(item)}),element.hasOwnProperty(global_problem_languages_string)&&(values=element.Languages,Array.prototype.forEach.call(values,item=>{-1===global_languages.indexOf(item)&&global_languages.push(item)}))}),global_adapted_json_data=json_data,resolve(json_data)})}function populateFiltersDropdown(){"use strict";return new Promise(function(resolve,reject){var items=global_origin.map(function(x){return{label:x,title:x,value:x}}),items_temp;items=_.orderBy(items,["label"],["asc"]),$("#input-origin").multiselect({includeSelectAllOption:!0,enableFiltering:!0,enableCaseInsensitiveFiltering:!0,numberDisplayed:0,nonSelectedText:"Origin",maxHeight:300,templates:{li:'<li><a class="dropdown-item"><label class="m-0 pl-2 pr-0"></label></a></li>',ul:' <ul class="multiselect-container dropdown-menu p-1 m-0"></ul>',button:'<button type="button" class="multiselect dropdown-toggle" data-toggle="dropdown" data-flip="false"><span class="multiselect-selected-text"></span> <b class="caret"></b></button>',filter:'<li class="multiselect-item filter"><div class="input-group m-0"><input class="form-control multiselect-search" type="text"></div></li>',filterClearBtn:'<span class="input-group-btn"><button type="button" class="btn btn-secondary multiselect-clear-filter">&times;</button></span>'},onChange:function(){var brands=$("#input-origin option:selected"),selected=[];if($(brands).each(function(){selected.push($(this).val())}),0===selected.length)$("#filter-query-origin").html(global_filter_query_origin_default);else{var arrayAsString,text="("+selected.join(" OR ")+")";$("#filter-query-origin").html(text)}}}),$("#input-origin").multiselect("dataprovider",items),items=global_companies.map(function(x){return{label:x,title:x,value:x}}),items=_.orderBy(items,["label"],["asc"]),$("#input-companies").multiselect({includeSelectAllOption:!0,enableFiltering:!0,enableCaseInsensitiveFiltering:!0,numberDisplayed:0,nonSelectedText:"Companies",maxHeight:300,templates:{li:'<li><a class="dropdown-item"><label class="m-0 pl-2 pr-0"></label></a></li>',ul:' <ul class="multiselect-container dropdown-menu p-1 m-0"></ul>',button:'<button type="button" class="multiselect dropdown-toggle" data-toggle="dropdown" data-flip="false"><span class="multiselect-selected-text"></span> <b class="caret"></b></button>',filter:'<li class="multiselect-item filter"><div class="input-group m-0"><input class="form-control multiselect-search" type="text"></div></li>',filterClearBtn:'<span class="input-group-btn"><button type="button" class="btn btn-secondary multiselect-clear-filter">&times;</button></span>'},onChange:function(){var brands=$("#input-companies option:selected"),selected=[];if($(brands).each(function(){selected.push($(this).val())}),0===selected.length)$("#filter-query-companies").html(global_filter_query_companies_default);else{var arrayAsString,text="("+selected.join(" OR ")+")";$("#filter-query-companies").html(text)}}}),$("#input-companies").multiselect("dataprovider",items),items=global_categories.map(function(x){return{label:x,title:x,value:x}}),items=_.orderBy(items,["label"],["asc"]),$("#input-categories").multiselect({includeSelectAllOption:!0,enableFiltering:!0,enableCaseInsensitiveFiltering:!0,numberDisplayed:0,nonSelectedText:"Categories",maxHeight:300,templates:{li:'<li><a class="dropdown-item"><label class="m-0 pl-2 pr-0"></label></a></li>',ul:' <ul class="multiselect-container dropdown-menu p-1 m-0"></ul>',button:'<button type="button" class="multiselect dropdown-toggle" data-toggle="dropdown" data-flip="false"><span class="multiselect-selected-text"></span> <b class="caret"></b></button>',filter:'<li class="multiselect-item filter"><div class="input-group m-0"><input class="form-control multiselect-search" type="text"></div></li>',filterClearBtn:'<span class="input-group-btn"><button type="button" class="btn btn-secondary multiselect-clear-filter">&times;</button></span>'},onChange:function(){var brands=$("#input-categories option:selected"),selected=[];if($(brands).each(function(){selected.push($(this).val())}),0===selected.length)$("#filter-query-categories").html(global_filter_query_categories_default);else{var arrayAsString,text="("+selected.join(" OR ")+")";$("#filter-query-categories").html(text)}}}),$("#input-categories").multiselect("dataprovider",items),items=global_tags.map(function(x){return{label:x,title:x,value:x}}),items=_.orderBy(items,["label"],["asc"]),$("#input-tags").multiselect({includeSelectAllOption:!0,enableFiltering:!0,enableCaseInsensitiveFiltering:!0,numberDisplayed:0,nonSelectedText:"Tags",maxHeight:300,templates:{li:'<li><a class="dropdown-item"><label class="m-0 pl-2 pr-0"></label></a></li>',ul:' <ul class="multiselect-container dropdown-menu p-1 m-0"></ul>',button:'<button type="button" class="multiselect dropdown-toggle" data-toggle="dropdown" data-flip="false"><span class="multiselect-selected-text"></span> <b class="caret"></b></button>',filter:'<li class="multiselect-item filter"><div class="input-group m-0"><input class="form-control multiselect-search" type="text"></div></li>',filterClearBtn:'<span class="input-group-btn"><button type="button" class="btn btn-secondary multiselect-clear-filter">&times;</button></span>'},onChange:function(){var brands=$("#input-tags option:selected"),selected=[];if($(brands).each(function(){selected.push($(this).val())}),0===selected.length)$("#filter-query-tags").html(global_filter_query_tags_default);else{var arrayAsString,text="("+selected.join(" OR ")+")";$("#filter-query-tags").html(text)}}}),$("#input-tags").multiselect("dataprovider",items),items=global_languages.map(function(x){return{label:x,title:x,value:x}}),items=_.orderBy(items,["label"],["asc"]),$("#input-languages").multiselect({includeSelectAllOption:!0,enableFiltering:!0,enableCaseInsensitiveFiltering:!0,numberDisplayed:0,nonSelectedText:"Languages",maxHeight:300,templates:{li:'<li><a class="dropdown-item"><label class="m-0 pl-2 pr-0"></label></a></li>',ul:' <ul class="multiselect-container dropdown-menu p-1 m-0"></ul>',button:'<button type="button" class="multiselect dropdown-toggle" data-toggle="dropdown" data-flip="false"><span class="multiselect-selected-text"></span> <b class="caret"></b></button>',filter:'<li class="multiselect-item filter"><div class="input-group m-0"><input class="form-control multiselect-search" type="text"></div></li>',filterClearBtn:'<span class="input-group-btn"><button type="button" class="btn btn-secondary multiselect-clear-filter">&times;</button></span>'},onChange:function(){var brands=$("#input-languages option:selected"),selected=[];if($(brands).each(function(){selected.push($(this).val())}),0===selected.length)$("#filter-query-languages").html(global_filter_query_languages_default);else{var arrayAsString,text="("+selected.join(" OR ")+")";$("#filter-query-languages").html(text)}}}),$("#input-languages").multiselect("dataprovider",items),items=["and","or"].map(function(x){return{label:x,title:x,value:x}}),items=_.orderBy(items,["label"],["asc"]),$("#input-and-or-origin-companies").multiselect({nonSelectedText:"and/or",templates:{li:'<li><a class="dropdown-item"><label class="m-0 pl-2 pr-0"></label></a></li>',ul:' <ul class="multiselect-container dropdown-menu p-1 m-0"></ul>',button:'<button type="button" class="multiselect dropdown-toggle" data-toggle="dropdown" data-flip="false"><span class="multiselect-selected-text"></span> <b class="caret"></b></button>',filter:'<li class="multiselect-item filter"><div class="input-group m-0"><input class="form-control multiselect-search" type="text"></div></li>',filterClearBtn:'<span class="input-group-btn"><button type="button" class="btn btn-secondary multiselect-clear-filter">&times;</button></span>'},onChange:function(){var brands=$("#input-and-or-origin-companies option:selected"),selected=[];if($(brands).each(function(){selected.push($(this).val())}),0===selected.length)$("#filter-query-and-or-origin-companies").html(global_filter_query_and_or_default);else{var arrayAsString=selected.join("");$("#filter-query-and-or-origin-companies").html(arrayAsString)}}}),$("#input-and-or-origin-companies").multiselect("dataprovider",items),$("#input-and-or-origin-companies").multiselect("select",["and"]),$("#input-and-or-companies-categories").multiselect({nonSelectedText:"and/or",templates:{li:'<li><a class="dropdown-item"><label class="m-0 pl-2 pr-0"></label></a></li>',ul:' <ul class="multiselect-container dropdown-menu p-1 m-0"></ul>',button:'<button type="button" class="multiselect dropdown-toggle" data-toggle="dropdown" data-flip="false"><span class="multiselect-selected-text"></span> <b class="caret"></b></button>',filter:'<li class="multiselect-item filter"><div class="input-group m-0"><input class="form-control multiselect-search" type="text"></div></li>',filterClearBtn:'<span class="input-group-btn"><button type="button" class="btn btn-secondary multiselect-clear-filter">&times;</button></span>'},onChange:function(){var brands=$("#input-and-or-companies-categories option:selected"),selected=[];if($(brands).each(function(){selected.push($(this).val())}),0===selected.length)$("#filter-query-and-or-companies-categories").html(global_filter_query_and_or_default);else{var arrayAsString=selected.join("");$("#filter-query-and-or-companies-categories").html(arrayAsString)}}}),$("#input-and-or-companies-categories").multiselect("dataprovider",items),$("#input-and-or-companies-categories").multiselect("select",["and"]),$("#input-and-or-categories-tags").multiselect({nonSelectedText:"and/or",templates:{li:'<li><a class="dropdown-item"><label class="m-0 pl-2 pr-0"></label></a></li>',ul:' <ul class="multiselect-container dropdown-menu p-1 m-0"></ul>',button:'<button type="button" class="multiselect dropdown-toggle" data-toggle="dropdown" data-flip="false"><span class="multiselect-selected-text"></span> <b class="caret"></b></button>',filter:'<li class="multiselect-item filter"><div class="input-group m-0"><input class="form-control multiselect-search" type="text"></div></li>',filterClearBtn:'<span class="input-group-btn"><button type="button" class="btn btn-secondary multiselect-clear-filter">&times;</button></span>'},onChange:function(){var brands=$("#input-and-or-categories-tags option:selected"),selected=[];if($(brands).each(function(){selected.push($(this).val())}),0===selected.length)$("#filter-query-and-or-categories-tags").html(global_filter_query_and_or_default);else{var arrayAsString=selected.join("");$("#filter-query-and-or-companies-categories").html(arrayAsString)}}}),$("#input-and-or-categories-tags").multiselect("dataprovider",items),$("#input-and-or-categories-tags").multiselect("select",["and"]),$("#input-and-or-tags-languages").multiselect({nonSelectedText:"and/or",templates:{li:'<li><a class="dropdown-item"><label class="m-0 pl-2 pr-0"></label></a></li>',ul:' <ul class="multiselect-container dropdown-menu p-1 m-0"></ul>',button:'<button type="button" class="multiselect dropdown-toggle" data-toggle="dropdown" data-flip="false"><span class="multiselect-selected-text"></span> <b class="caret"></b></button>',filter:'<li class="multiselect-item filter"><div class="input-group m-0"><input class="form-control multiselect-search" type="text"></div></li>',filterClearBtn:'<span class="input-group-btn"><button type="button" class="btn btn-secondary multiselect-clear-filter">&times;</button></span>'},onChange:function(){var brands=$("#input-and-or-tags-languages option:selected"),selected=[];if($(brands).each(function(){selected.push($(this).val())}),0===selected.length)$("#filter-query-and-or-tags-languages").html(global_filter_query_and_or_default);else{var arrayAsString=selected.join("");$("#filter-query-and-or-tags-languages").html(arrayAsString)}}}),$("#input-and-or-tags-languages").multiselect("dataprovider",items),$("#input-and-or-tags-languages").multiselect("select",["and"]),resolve("Success!")})}function isItemInArray(arr,item){"use strict";return 0===arr.length||-1!==arr.indexOf(item)}function isFilterSatisfied(filters,items){"use strict";return 0===filters.length&&0===items.length||(0===filters.length&&0!==items.length||(0===filters.length||0!==items.length)&&(0!==filters.length&&0!==items.length?_.intersection(items,filters).length>0:void 0));var result}function getFilteredJson(){"use strict";return new Promise(function(resolve,reject){global_filtered_json_data=[];var filter_origins=[],temp=$("#input-origin option:selected").map(function(a,item){return item.value});_.forEach(temp,function(item){filter_origins.push(item)});var filter_companies=[];temp=$("#input-companies option:selected").map(function(a,item){return item.value}),_.forEach(temp,function(item){filter_companies.push(item)});var filter_categories=[];temp=$("#input-categories option:selected").map(function(a,item){return item.value}),_.forEach(temp,function(item){filter_categories.push(item)});var filter_tags=[];temp=$("#input-tags option:selected").map(function(a,item){return item.value}),_.forEach(temp,function(item){filter_tags.push(item)});var filter_languages=[];temp=$("#input-languages option:selected").map(function(a,item){return item.value}),_.forEach(temp,function(item){filter_languages.push(item)}),1===filter_origins.length&&""===filter_origins[0]&&(filter_origins=[]),1===filter_companies.length&&""===filter_companies[0]&&(filter_companies=[]),1===filter_categories.length&&""===filter_categories[0]&&(filter_categories=[]),1===filter_tags.length&&""===filter_tags[0]&&(filter_tags=[]),1===filter_languages.length&&""===filter_languages[0]&&(filter_languages=[]),temp=$("#input-and-or-origin-companies option:selected").map(function(a,item){return item.value});var and_or_origin_companies=_.join(temp,"");temp=$("#input-and-or-companies-categories option:selected").map(function(a,item){return item.value});var and_or_companies_categories=_.join(temp,"");temp=$("#input-and-or-categories-tags option:selected").map(function(a,item){return item.value});var and_or_categories_tags=_.join(temp,"");temp=$("#input-and-or-tags-languages option:selected").map(function(a,item){return item.value});var and_or_tags_languages=_.join(temp,""),temp_origins=_.filter(global_adapted_json_data,function(item){return isItemInArray(filter_origins,item.Origin)}),temp_companies=_.filter(global_adapted_json_data,function(item){return isFilterSatisfied(filter_companies,item.Companies)}),temp_categories=_.filter(global_adapted_json_data,function(item){return isFilterSatisfied(filter_categories,item.Categories)}),temp_tags=_.filter(global_adapted_json_data,function(item){return isFilterSatisfied(filter_tags,item.Tags)}),temp_languages=_.filter(global_adapted_json_data,function(item){return isFilterSatisfied(filter_languages,item.Languages)}),filtered_data=[];if("and"===and_or_origin_companies?filtered_data=_.intersectionBy(temp_origins,temp_companies,"Id"):"or"===and_or_origin_companies&&(filtered_data=_.unionBy(temp_origins,temp_companies,"Id")),"and"===and_or_companies_categories?filtered_data=_.intersectionBy(filtered_data,temp_categories,"Id"):"or"===and_or_companies_categories&&(filtered_data=_.unionBy(filtered_data,temp_categories,"Id")),"and"===and_or_categories_tags?filtered_data=_.intersectionBy(filtered_data,temp_tags,"Id"):"or"===and_or_categories_tags&&(filtered_data=_.unionBy(filtered_data,temp_tags,"Id")),"and"===and_or_tags_languages?filtered_data=_.intersectionBy(filtered_data,temp_languages,"Id"):"or"===and_or_tags_languages&&(filtered_data=_.unionBy(filtered_data,temp_languages,"Id")),0===filtered_data.length){var filtered_data_object={};filtered_data_object[global_problem_id_string]="",filtered_data_object[global_problem_name_string]="",filtered_data_object[global_problem_origin_string]="",filtered_data_object[global_problem_link_string]="",filtered_data_object[global_problem_companies_string]="",filtered_data_object[global_problem_categories_string]="",filtered_data_object[global_problem_tags_string]="",filtered_data_object[global_problem_languages_string]="",filtered_data.push(filtered_data_object)}resolve(global_filtered_json_data=filtered_data)})}function applyFilters(){"use strict";getFilteredJson().then(filtered_json_data=>createTable(filtered_json_data)).then(function(){global_filters_applied=!0})}function clearFilters(){"use strict";global_filters_applied&&createTable(global_adapted_json_data).then(function(){$("#input-origin").multiselect("deselectAll",!1),$("#input-origin").multiselect("updateButtonText"),$("#input-companies").multiselect("deselectAll",!1),$("#input-companies").multiselect("updateButtonText"),$("#input-categories").multiselect("deselectAll",!1),$("#input-categories").multiselect("updateButtonText"),$("#input-tags").multiselect("deselectAll",!1),$("#input-tags").multiselect("updateButtonText"),$("#input-languages").multiselect("deselectAll",!1),$("#input-languages").multiselect("updateButtonText"),$("#input-and-or-origin-companies").multiselect("deselectAll",!1),$("#input-and-or-origin-companies").multiselect("updateButtonText"),$("#input-and-or-companies-categories").multiselect("deselectAll",!1),$("#input-and-or-companies-categories").multiselect("updateButtonText"),$("#input-and-or-categories-tags").multiselect("deselectAll",!1),$("#input-and-or-categories-tags").multiselect("updateButtonText"),$("#input-and-or-tags-languages").multiselect("deselectAll",!1),$("#input-and-or-tags-languages").multiselect("updateButtonText")}).then(function(){global_filtered_json_data=[],global_filters_applied=!1,$("#filter-query-origin").html(global_filter_query_origin_default)})}function arrayContainsArray(superset,subset){"use strict";return subset.every(function(value){return superset.indexOf(value)>=0})}function sleep(ms){"use strict";return new Promise(resolve=>setTimeout(resolve,ms))}jQuery(function(){"use strict";getJson.then(json_data=>adaptJsonData(json_data)).then(changed_json_data=>createTable(changed_json_data)).then(function(){populateFiltersDropdown()})});